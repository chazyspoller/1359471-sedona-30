const popup=document.querySelector(".modal"),buttonPopupControl=document.querySelector(".button-modal"),popupDateArrivel=popup.querySelector("[name = date-arrivel]"),popupDateOut=popup.querySelector("[name = dateout]"),popupAdults=popup.querySelector("[name = adults]"),popupChildren=popup.querySelector("[name = children]"),formPopup=popup.querySelector(".search-hotel-form"),plus=popup.querySelectorAll(".plus"),minus=popup.querySelectorAll(".minus");for(let e=0;e<plus.length;e++)plus[e].addEventListener("click",function(){0==e?popupAdults.value++:popupChildren.value++});for(let e=0;e<minus.length;e++)minus[e].addEventListener("click",function(){0==e?0!=popupAdults.value&&popupAdults.value--:0!=popupChildren.value&&popupChildren.value--});let isStorageSupport=!0,storageAdults="",storageChildren="";try{storageAdults=localStorage.getItem("adults"),storageChildren=localStorage.getItem("children")}catch(e){isStorageSupport=!1}popup.classList.contains("modal-close")||popup.classList.add("modal-close"),buttonPopupControl.addEventListener("click",function(e){e.preventDefault(),popup.classList.toggle("modal-close"),popupDateArrivel.focus(),popup.classList.contains("modal")?popup.classList.add("modal-slide-down"):popup.classList.remove("modal-slide-down"),storageAdults&&(popupAdults.value=storageAdults),storageChildren&&(popupChildren.value=storageChildren)}),document.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal")&&(e.preventDefault(),popup.classList.add("modal-close"))}),formPopup.addEventListener("submit",function(e){popupDateArrivel.value&&popupDateOut.value&&popupAdults.value&&popupChildren.value?isStorageSupport&&(localStorage.setItem("adults",popupAdults.value),localStorage.setItem("children",popupChildren.value)):e.preventDefault()});
